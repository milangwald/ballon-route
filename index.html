<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Earth Engine Login Test</title>

  <!-- Earth Engine JS API -->
  <script src="https://ajax.googleapis.com/ajax/libs/earthengine/0.1.365/earthengine-api.min.js"></script>
</head>

<body style="font-family: sans-serif; padding: 20px;">
  <h1>Earth Engine Verbindung testen</h1>

<button id="sign-in">Mit Google anmelden</button>
<pre id="log"></pre>

<script>
  const CLIENT_ID =
    "695834984820-3aac29g7u9e0rsmsnh4sh5kibmfq3560.apps.googleusercontent.com";

  const SCOPES = ["https://www.googleapis.com/auth/earthengine.readonly"];

  const logEl = document.getElementById("log");
  const btn = document.getElementById("sign-in");

  function log(m) {
    console.log(m);
    logEl.textContent += m + "\n";
  }

  function onAuthenticated() {
    log("✅ Login erfolgreich – initialisiere Earth Engine");
    ee.initialize();
    log("✅ Earth Engine bereit!");
  }

  function onAuthError(e) {
    log("❌ Auth-Fehler: " + e);
    console.error(e);
  }

  btn.addEventListener("click", () => {
    log("➡️ Starte Redirect-Login …");
    ee.data.authenticateViaRedirect(
      CLIENT_ID,
      onAuthenticated,
      onAuthError,
      SCOPES
    );
  });

  log("✅ Seite geladen");
</script>



</body>
</html>

